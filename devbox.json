{
  "packages": [
    "ruby_3_3@3.3.4",
    "nodejs@20",
    "postgresql@latest",
    "libyaml@0.2.5",
    "libyaml.dev",
    "pkg-config@latest",
    "libiconv",
    "gcc",
    "libxml2@2.15.1",
    "libxslt@1.1.45",
    "openssl@3.6.0",
    "readline@latest",
    "libffi@3.5.2",
    "zlib@1.3.1",
    "gnumake@4.4.1",
    "git@2.52.0",
    "rsync@3.4.1",
    "jq@1.8.1"
  ],
  "env": {
    "TMPDIR": "/private/tmp/orcid_princeton_hanami",
    "PKG_CONFIG_PATH": ".devbox/nix/profile/default/lib/pkgconfig:.devbox/nix/profile/default/share/pkgconfig",
    "BUNDLE_BUILD__PSYCH": "--with-libyaml-dir=.devbox/nix/profile/default --with-yaml-0.1-include=.devbox/nix/profile/default/include --with-yaml-0.1-lib=.devbox/nix/profile/default/lib",
    "BUNDLE_PATH": ".bundle",
    "BUNDLE_BIN": ".binstubs",
    "PATH": ".binstubs:bin:$PATH"
  },
  "shell": {
    "init_hook": [
      "mkdir -p $TMPDIR",
      "bundle config set --local path '.bundle'",
      "bundle config set --local bin '.binstubs'",
      "bundle config set --local build.psych \"--with-libyaml-dir=.devbox/nix/profile/default --with-yaml-0.1-include=.devbox/nix/profile/default/include --with-yaml-0.1-lib=.devbox/nix/profile/default/lib\"",
      "[ -x bin/bundle ] || gem install bundler -v 2.5.14 --no-document --conservative"
    ]
  }
}
